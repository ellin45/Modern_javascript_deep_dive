# Let, const 키워드와 블록레벨 스코프

# var 키워드로 선언한 변수의 문제점

- 변수 중복선언 허용
```js
15-01

var x =1;
var y =1;

var x =100;

var y;

console.log(x); // 100
console.log(y); // 1
```
- 함수 레벨 스코프
```js
15-02
var x = 1;
if(true) {
    // x는 전역 변수다. 이미 선언된 전역 변수 x가 있으므로 x 변수는 중복 선언된다.
    //이는 의도치 않게 변수값이 변경되는 부작용을 발생시킨다.
    var x = 10;

}
console.log(x); // 10
```
```js
15-03
var i = 10;

for (var i = 0; i < 5; i++) {
    console.log(i)l // 0 1 2 3 4
}

console.log(i); // 5
```
```
함수 레벨 스코프는 전역 변수를 남발한 가능성을 높인다.
이로 인해 의도치 않게 전역 변수가 중복 선언되는 경우가 발생한다.
```
- 변수 호이스팅
```js
15-04
//이 시점에는 변수 호이스팅에 의해 이미 foo 변수가 선언되었다.(1. 선언 단계)
// 변수 foo는 undefined로 초기화된다(2. 초기화 단계)
console.log(foo); // undefined 

foo = 123; //3. 할당 단계
var foo;
```

--------
- let 키워드
```js
15-05
var foo = 123;
// var 키워드로 선언된 변수는 스코프 내에서 중복 선언을 허용한다.
// 아래 변수 선언문은 자바스크립트 엔진에 의해 var 키워드가 없는 것처럼 동작한다.
var foo = 456;
let bar = 123;
//let 이나 const 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언을 허용하지 않는다.
let bar = 456;
//SyntaxError
```
- 블록 레벨 스코프
```js
let foo = 1; // 전역 변수
{
    let foo = 2; // 지역 변수
    let bar = 3; // 지역 변수
}

console.log(foo); // 1
console.log(bar); // Reference Error
```
```
let 키워드로 선언한 변수는 스코프의 시작 지점부터 초기화 시작 지점까지 변수를 참조할 수 없는 구간을 '일시적 사각지대'라고 부른다
```
```
var 키워드로 선언한 전역 변수와 전역 함수, 그리고 선언하지 않은 변수에 값을 할당한 암묵적 전역은 전역객체 window의 프로퍼티가 된다. 전역 객체의 프로퍼티를 참조할 때 window를 생략할 수 있다.
```
---
- const 키워드
```
재할당이 금지된 변수
const 키워드로 선언한 변수는 반드시 선언과 동시에 초기화 해야한다.
const 키워드로 선언된 변수에 객체를 할당한 경우 값을 변경할 수 있다.
```
```js
15-14
const foo;
//그렇지 않으면 SyntaxError발생
```


